\documentclass[11pt,a4paper,openright]{book}

% ==========================================
%  PROFESSIONAL BOOK CONFIGURATION
% ==========================================

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
% \usepackage{microtype}
\usepackage{geometry}
\geometry{
    top=1.2in,
    bottom=1.2in,
    inner=1.2in, % Wider inner margin for binding
    outer=1in,
    marginparwidth=0in,
    marginparsep=0in
}

% Typography
\usepackage{mathpazo} % Palatino for body text (very readable)
\usepackage[scaled=0.92]{helvet} % Helvetica for headings
\usepackage{courier} % Standard monospace font
% \usepackage{setspace}
\linespread{1.15} % Slightly more breathing room for text

% Colors (Modern Technical Palette)
\usepackage{xcolor}
\definecolor{techDark}{HTML}{1A202C}   % Almost Black
\definecolor{techBlue}{HTML}{2B6CB0}   % Professional Blue
\definecolor{techTeal}{HTML}{2C7A7B}   % Teal
\definecolor{techGray}{HTML}{4A5568}   % Slate
\definecolor{techLight}{HTML}{EDF2F7}  % Background Gray
\definecolor{techAccent}{HTML}{DD6B20} % Orange Accent

% Chapter Styling (The "Professional" Look)
\usepackage{titlesec}
\titleformat{\chapter}[display]
  {\bfseries\sffamily\color{techBlue}}
  {\flushright\fontsize{60}{60}\selectfont\thechapter}
  {-15pt}
  {\flushright\Huge\color{techDark}\MakeUppercase}
\titlespacing*{\chapter}{0pt}{0pt}{40pt}

\titleformat{\section}
  {\bfseries\sffamily\Large\color{techDark}}
  {\thesection}{1em}{}
\titlespacing*{\section}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}

\titleformat{\subsection}
  {\bfseries\sffamily\large\color{techTeal}}
  {\thesubsection}{1em}{}
\titlespacing*{\subsection}{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

% Professional Headers/Footers
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE]{\bfseries\sffamily\thepage\ \ \ |\ \ \ \leftmark} % Left Even: Page | Chapter
\fancyhead[RO]{\bfseries\sffamily\rightmark\ \ \ |\ \ \ \thepage} % Right Odd: Section | Page
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{#1}}
\renewcommand{\headrulewidth}{0pt} % Clean look, no line

% Graphics & Diagrams
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{shapes, arrows.meta, positioning, shadows.blur, fit, backgrounds, calc, decorations.pathreplacing}
\usepackage{float}

% Callout Boxes (Sidebars/Deep Dives)
\usepackage{tcolorbox}
% \tcbuselibrary{skins, breakable}
\tcbuselibrary{breakable}

\newtcolorbox{deepdive}[1][]{
    colback=techLight,
    colframe=techBlue,
    arc=0mm,
    boxrule=0pt,
    leftrule=4pt,
    fonttitle=\bfseries\sffamily\large,
    coltitle=techBlue,
    title={#1},
    parbox=false,
    top=10pt, bottom=10pt, left=10pt, right=10pt
}

\newtcolorbox{casestudy}[1][]{
    colback=white,
    colframe=techTeal,
    boxrule=1pt,
    arc=4mm,
    fonttitle=\bfseries\sffamily,
    coltitle=white,
    title={CASE STUDY: #1},
    top=10pt, bottom=10pt, left=10pt, right=10pt
}

\newtcolorbox{featurebox}[1][]{
    colback=white,
    colframe=techAccent,
    boxrule=1pt,
    arc=4mm,
    fonttitle=\bfseries\sffamily,
    coltitle=white,
    title={FEATURE HIGHLIGHT: #1},
    top=10pt, bottom=10pt, left=10pt, right=10pt
}

% Hyperlinks
\usepackage[hidelinks]{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=techDark,
    urlcolor=techBlue,
    citecolor=techDark
}

% Table of Contents Tweaks
% \usepackage{tocloft}
% \renewcommand{\cftchapfont}{\sffamily\bfseries\color{techBlue}}
% \renewcommand{\cftchappagefont}{\bfseries\color{techBlue}}

% ==========================================
%  DOCUMENT CONTENT
% ==========================================

\begin{document}

% --- Front Matter ---
\frontmatter

\begin{titlepage}
    \begin{center}
        \vspace*{2cm}
        {\sffamily\LARGE\color{techGray} THE ARCHITECT'S GUIDE TO} \\
        \vspace{0.5cm}
        {\sffamily\fontsize{50}{60}\selectfont\bfseries\color{techBlue} SHIKSHAK} \\
        \vspace{1cm}
        \begin{tikzpicture}
            \draw[techBlue, line width=2pt] (0,0) -- (12,0);
        \end{tikzpicture}
        \vspace{1cm}
        {\sffamily\Large\bfseries\color{techDark} Building the Next Generation of\\Intelligent Educational Platforms}
        
        \vfill
        
        \begin{tikzpicture}
            % Abstract representation of a distributed network
            \foreach \x in {0,2,4,6,8}
                \foreach \y in {0,2}
                    \node[circle, fill=techLight, draw=techTeal, thick, minimum size=0.4cm] at (\x + rand*0.5, \y + rand*0.5) {};
            \draw[techGray, thick, opacity=0.3] (0,0) -- (8,2);
            \draw[techGray, thick, opacity=0.3] (0,2) -- (8,0);
        \end{tikzpicture}
        
        \vfill
        
        {\sffamily\large Technical Specification \& Architecture Blueprint} \\
        \vspace{0.5cm}
        {\sffamily\small Prepared for Internal Stakeholders \& Engineering Teams} \\
        \vspace{0.5cm}
        {\sffamily\bfseries \today}
    \end{center}
\end{titlepage}

\tableofcontents

\chapter{Preface}
This document serves as the comprehensive architectural reference for the Shikshak platform. It is written for software architects, senior developers, and system administrators who need to understand the intricate machinery powering this intelligent ecosystem.
\newpage

% --- Main Matter ---
\mainmatter

\input{chapters/01_introduction}
\input{chapters/02_architecture_patterns}
\input{chapters/03_identity_security}
\input{chapters/04_course_engine}
\input{chapters/05_ai_core}
\input{chapters/06_proctoring_vision}
\input{chapters/07_infrastructure_devops}
\input{chapters/08_roadmap_vision}
\appendix
\input{chapters/09_api_reference}
\input{chapters/10_glossary}
\input{chapters/11_configuration}

\end{document}
